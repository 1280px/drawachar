<!DOCTYPE html>
<html lang="en"><head>
    <title>DrawAchaR (based on TensorFlow.js + MobileNet + KNNClassifier)</title>
    <meta charset="utf-8">
    <!-- <script src="https://unpkg.com/@tensorflow/tfjs@3.15.0/dist/tf.min.js"></script> -->
    <script src="lib/tf.min.js"></script>
    <script src="lib/mobilenet.min.js"></script>
    <script src="lib/knn-classifier.min.js"></script>
    <link rel="stylesheet" href="index.css" />
    <link rel="icon" href="icon/logo/icon-16.png">
</head>
<body>
    <span id="loadingScreen"><div>ඞඞඞඞඞ</div><b>DʀᴀᴡAᴄʜᴀR TFJS b1.20 · Loading Model...</b></span>

    <header id="modeSwitchPanel">
        <a id="logo" href="https://github.com/1280px/DrawAchaR" title="by 1280px, 2022"><img src="icon/logo/icon.svg"></a><label id="appModeSwitcherHandler" title="Recognition/Training Mode Switcher&#13;Tip: right click to show both!"><input type="checkbox" id="appModeSwitcher" style="display: none;">
            <label id="appModeSwitcherBtn" for="appModeSwitcher" style="order: 2;">
                -- А я-таки уверен, что нужно пеликаном быть!
                --- Пеликаны смертны... 
                -- Люди тоже.
            </label>
            <label for="appModeSwitcher" style="order: 1; margin-top: -1px;">Recognition</label>
            <label for="appModeSwitcher" style="order: 3; margin-top: -1px;">Training</label>
        </label><label id="debugTogglerBtn"><input type="checkbox" id="debugToggler" style="display: none;"><img src="icon/debug.svg"></label>
    </header>

    <main id="app">
        <section id="drawingPad">
            <canvas width="224" height="224" id="canvas"></canvas><button id="predictBtn" title="Predict" disabled><img src="icon/confirm.svg"></button><button id="clearDrawingPadBtn" title="Clear Canvas&#13;Tip: right-click on canvas to quickly clear it"><img src="icon/clear.svg"></button>
        </section>
        <section id="recognitionMode">
            <div class="topBar"><label title="When enabled, predicts the doodle automatically&#13;after every new stroke on the canvas."><input type="checkbox" id="autopreditionToggler">Auto-predict</label><label title="When enabled, clicking on a example&#13;adds the doodle to this symbol category"><input type="checkbox" id="autotrainToggler">Auto-train</label></div>
            <div id="resman">
                <em>Draw a character using your mouse.</em>
            </div>
            <div class="bottomBar">
                <input type="text" id="clipboardField" placeholder="LMB to add, RMB to quick copy"><button id="clipboardCopyBtn" title="Copy All (clears the field)"><img src="icon/copy-all.svg"></button>
            </div>
        </section>
        <section id="trainingMode">
            <div class="topBar">&nbsp;Pick an example you want to train...</div>
            <div id="typeman">
                <em>Oh no! Unknown error, no examples loaded.</em>
            </div>
            <div class="bottomBar">
                <input type="text" id="addTypeInput" placeholder="...or add a new one!" disabled><button id="addTypeBtn" title="Add to a New Category" disabled><img src="icon/add.svg"></button>
            </div>
        </section>
    </main>

    <footer id="debug">
        <b>==== debug info ====</b> (<a href="#" target="_blank">new tab</a>)
        <span>On-canvas mouse coords: <b id="debugCoords">(none)</b></span>
        <span>Current <abbr title="Formula: (2 + (cSum / cLen^(√2))">KNN Coefficient</abbr>: <b id="debugKNNC">(initial value)</b><br>&nbsp;</span>
        <b>Classifier Data:
            <button id="floadExamplesBtn" disabled>[WIP] f-load</button>
            <button id="fsaveExamplesBtn" disabled>[WIP] f-save</button>
            <button id="wipeExamplesBtn">!! wipe !!</button>
        </b><b>User Configs:
            <button id="floadConfigsBtn" disabled>[WIP] f-load</button>
            <button id="fsaveConfigsBtn" disabled>[WIP] f-save</button>
            <button id="wipeConfigsBtn">!! reset !!</button>
        </b>
    </footer>

    <script src="index.js"></script>
</body></html>
